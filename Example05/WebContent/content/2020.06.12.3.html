<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	function piggyBank(pid,ppw) {
		this.pid=pid; this.ppw=ppw;
		var totalMoney=0;
		this.getTotalMoney=function(){return totalMoney;};//토탈 금액확인
		this.setSaveMoney=function(money){totalMoney+=money};
		this.setFetchMoney=function(money,id,pw){
			if(id==this.pid&&pw==this.ppw) {
				if(money>this.totalMoney) {
					alert("잔액이 부족합니다.");
					return;
				}
				totalMoney-=money;
			} else {
				alert("사용자 인증에 실패");
			} 
		};	//인출
	}	
	var psObj1 = new piggyBank("철수","12345");
	var psObj2 = new piggyBank("영희","54321");
	psObj1.setSaveMoney(5000);
	psObj2.setSaveMoney(10000);
	psObj1.setFetchMoney(3000,"철수","12345");
	psObj2.setFetchMoney(6000,"영희","54321");
	
	/*
	psObj1.totalMoney=500;
	psObj2.totalMoney=1000;
	psObj1.totalMoney=10000; 
	*/
	
	console.log(psObj1.getTotalMoney());
	console.log(psObj2.getTotalMoney());
	console.log(psObj1.totalMoney);
	
	function ObjTest() {//지역변수로 선언되면 객체로 접근할 수 없당, 하지만 내부에 객체함수를 만들어서 접근 가능하도록
		var a=100;
		this.getA=function(){return a}; //a값을 리턴하여 a값을 읽을 수 있는 함수 (read)
		this.setA=function(val){a=val}; //val이라는 값을 넣으면 a에 val를 할당하는 함수 (write)
	}
	var obj = new ObjTest(); //obj 객체형 변수에 ObjTest라는 객체 생성?
	console.log(obj.getA()); //접근 성공
	console.log(obj.a); //접근 실패
	obj.setA(1000); //a를 1000으로 세팅 가능
	console.log(obj.getA()); //a가 1000으로 바꿔짐
</script>

</head>
<body>

</body>
</html>